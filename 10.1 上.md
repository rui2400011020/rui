```
n=int(input())
V=list(map(int,input().split()))
U=sorted(V)
m=int(input())
Type=[]
L=[]
R=[]
Cost1=[0]
cost1=0
for i in range(n):
    cost1+=V[i]
    Cost1.append(cost1)
Cost2=[0]
cost2=0
for i in range(n):
    cost2+=U[i]
    Cost2.append(cost2)
for _ in range(m):
    type,l,r=map(int,input().split())
    Type.append(type)
    L.append(l)
    R.append(r)
for i in range(m):
    type=Type[i]
    l=L[i]
    r=R[i]
    if type==1:
        print(Cost1[r]-Cost1[l-1])
    elif type==2:
        print(Cost2[r]-Cost2[l-1])
```

![image-20241026155116543](C:\Users\huawei\AppData\Roaming\Typora\typora-user-images\image-20241026155116543.png)