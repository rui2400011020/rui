```
n,m=map(int,input().split())
matrix=[]
for _ in range(n):
    matrix.append(list(map(int,input().split())))
answer=[]
for i in range(n):
    for j in range(m):
        answer.append(matrix[i][j]*(1000*matrix[0][j]+100*matrix[i][m-1]+10*matrix[n-1][j]+matrix[i][0]))
print(max(answer))
```

![image-20241101010750290](C:\Users\huawei\AppData\Roaming\Typora\typora-user-images\image-20241101010750290.png)